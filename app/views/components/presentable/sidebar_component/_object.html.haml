%ul.list-group
  - Array(object.send(clazz)).map do |record|
    %li.list-group-item
      - fields.map do |field|
        - if record.send(field).present?
          - if nested.present? && nested&.[](field.to_sym).present? && nested&.[](field.to_sym) == "email"
            %span= mail_to record.send(field), record.send(field)
            %br
          - elsif clazz == "alternative_identifiers"
            %span
              #{record.identifier_type}: #{record.send(field)}
          - else
            %span= record.send(field)
            %br
