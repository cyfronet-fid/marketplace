= simple_form_for [:backoffice, provider] do |f|
  = f.input :name
  .row.service-contact-emails{ "data-controller": "provider", "data-target": "provider.dataAdministrators" }
    .col-12
      %h3
        = _("Data Administrators")
      = f.fields_for :data_administrators, multiple: true, as: :array,
        wrapper_html: { "data-target" => "provider.dataAdministrator" } do |data_administrator_form|
        = render "data_administrator_fields", data_administrator_form: data_administrator_form
      = link_to _("Add additional data administrator"), "#", class: "btn btn-primary disablable mb-5",
                  data: { "target": "provider.addAdmin",
                  "action": "click->provider#addAdmin",
                  "fields": f.fields_for(:data_administrators, DataAdministrator.new,
                  child_index: "new_field") { |data_administrator_form| render "data_administrator_fields",
                  data_administrator_form: data_administrator_form } }
  .row.mt-3
    .col-12
      %h3
        = _("External Sources")

      = f.fields_for :sources do |sources_form|
        = sources_form.hidden_field :id
        = sources_form.input :source_type, collection: ProviderSource.source_types.keys.map(&:to_sym)
        = sources_form.input :eid, label: _("eInfraCentral External ID")
        - unless sources_form.object.id.nil?
          = sources_form.check_box :_destroy
          = sources_form.label :_destroy, _("Remove external source")


  %hr.bottom-hr.mt-5.mb-4
  .row.mt-5
    .col-12
      = f.button :submit, class: "btn btn-primary pl-5 pr-5 mr-5"
      %a.text-left.flex-grow-1.text-uppercase{ "href": "/backoffice/providers" }
        = _("Cancel and back to previous page")
