- breadcrumb :backoffice_research_areas
.container
  %h1
    Research Areas
    - if policy([:backoffice, ResearchArea]).new?
      .float-right
        = link_to t("backoffice.research_area.new"),
                  new_backoffice_research_area_path,
                  class: "btn btn-primary"
      .clearfix
  %ul.list-group.backoffice-list.mt-5.mb-3
    - ancestry_tree(@research_areas).each do |record|
      %li.list-group-item
        = link_to record.first, backoffice_research_area_path(record.last)
        - if policy([:backoffice, record[1]]).destroy?
          = link_to backoffice_research_area_path(record[1]),
                method: :delete,
                data: { confirm: "Are you sure you want to remove this research area?" },
                class: "delete-icon float-right" do
            %i.far.fa-trash-alt
        - if policy([:backoffice, record[1]]).edit?
          = link_to "Edit", edit_backoffice_research_area_path(record[1]), class: "btn-sm btn-warning float-right mr-4"
