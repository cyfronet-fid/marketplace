= simple_form_for raid_project, remote: local_assigns[:show_as_modal],
  html: { role: "form", id: "modal-form", "data-controller" => "raid-project", "data-raid-project-target": "form" } do |f|
  %div 
    %h2
      = _("Dates")
    = f.input :start_date, as: :date, html5: true
    = f.input :end_date, as: :date, html5: true
  
  %div
    %h2
      = _("Titles")
    = f.fields_for :main_title do |main_title_f|
      = main_title_f.input :text, label: 'Main Title'
      = main_title_f.input :language
      = main_title_f.input :start_date,  as: :date, html5: true
      = main_title_f.error :start_date, id: "wrong date"
      = main_title_f.input :end_date,  as: :date, html5: true

    = f.fields_for :alternative_titles, multiple: true, as: :array, 
                wrapper_html: { "data-raid-project-target" => "alternativeTitle" }  do |alternative_title_f|
      = render "raid_projects/form/alternative_title_fields", alternative_title_f: alternative_title_f
    = link_to _("Add alternative title"), "#", class: "btn btn-primary",
            data: { raid_project: { target: "addField" },
            action: "click->raid-project#addField",
            value: "alternativeTitles",
            fields: f.fields_for(:alternative_titles, AlternativeTitle.new,
            child_index: "new_field") { |alternative_title_f| render "raid_projects/form/alternative_title_fields",
            alternative_title_f: alternative_title_f }}

      
