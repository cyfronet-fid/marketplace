= simple_form_for raid_project, remote: local_assigns[:show_as_modal],
    html: { role: "form", id: "modal-form", "data-controller" => "raid-project",
            "data-raid-project-target": "form" } do |f|
  %div
    %h2
      = _("Dates")
    = f.input :start_date, as: :date, html5: true
    = f.input :end_date, as: :date, html5: true
  %hr
  = render "raid_projects/form/title_fields", f: f
  %hr
  = render "raid_projects/form/description_fields", f: f
  %hr
  %div
    %h2
      = _("Contributors")
    = f.error :base, class: "invalid-feedback d-block"
    = f.fields_for :contributors, multiple: true, as: :array,
                wrapper_html: { "data-raid-project-target" => "contributor" } do |contributor_f|
      = render "raid_projects/form/contributor_fields", contributor_f: contributor_f
    = link_to _("Add contributor"), "#", class: "btn btn-primary disablable",
      data: { raid_project: { target: "addField" },
              action: "click->raid-project#addField",
              value: "contributors",
              fields: f.fields_for(:contributors, Raid::Contributor.new,
              child_index: "new_field") { |contributor_f| render "raid_projects/form/contributor_fields",
              contributor_f: contributor_f } }

